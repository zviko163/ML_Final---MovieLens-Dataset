<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Watching {{ movie.title }}</title>
    <style>
        body { background-color: #141414; color: white; font-family: Arial, sans-serif; margin: 0; }
        
        /* Navbar */
        .nav { padding: 20px; background: rgba(0,0,0,0.8); position: fixed; width: 100%; top: 0; z-index: 100; }
        .nav a { color: #E50914; text-decoration: none; font-weight: bold; font-size: 1.5em; }

        /* Video Player Container */
        .video-container {
            margin-top: 0;
            width: 100%;
            height: 80vh; /* Takes up 80% of the screen height */
            background: black;
            display: flex;
            align-items: center;
            justify_content: center;
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Makes it look cinematic */
        }

        /* Info Section */
        .info-section { padding: 40px; }
        h1 { margin-bottom: 10px; font-size: 3em; }
        p { color: #aaa; max-width: 600px; }

        /* Recommendations Row */
        .rec-section { padding: 20px 40px; }
        .rec-title { margin-bottom: 20px; font-size: 1.5em; font-weight: bold; }
        
        .rec-row {
            display: flex;
            overflow-x: auto; /* Allows horizontal scrolling */
            gap: 15px;
            padding-bottom: 20px;
        }
        
        .rec-card {
            min-width: 200px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .rec-card:hover { transform: scale(1.05); }
        .rec-card img { width: 100%; border-radius: 4px; }
        
        /* Scrollbar hiding for clean look */
        .rec-row::-webkit-scrollbar { height: 8px; }
        .rec-row::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
    </style>
</head>
<body>

    <div class="nav">
        <a href="/">StreamRec</a>
    </div>

    <div class="video-container">
        <video controls autoplay>
            <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="info-section">
        <h1>{{ movie.title }}</h1>
        <p>
            You are now simulating the viewing experience. 
            The video above is a placeholder. 
            Below, you will see the Machine Learning model in action.
        </p>
    </div>

    <div class="rec-section">
        <div class="rec-title">Because you watched {{ movie.title }}</div>
        
        <div class="rec-row">
            {% for rec in recommendations %}
            <a href="/watch/{{ rec.id }}">
                <div class="rec-card">
                    <img src="{{ rec.poster_url }}" alt="{{ rec.title }}">
                </div>
            </a>
            {% endfor %}
        </div>
    </div>

</body>
</html>